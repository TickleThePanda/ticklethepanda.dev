---
layout: page
title: Messages Book
description: An analysis of my location history from Google Location History.
permalink: /messages/
---

<h2>The book</h2>

<p>As an anniversary present to my partner, I created physical book from the messages that we sent to each other over various digital messenging services, like Facebook, Skype, and WhatsApp.</p>

<figure>
  <img src="{{ site.imagesUrl }}/message-book/book-cover.jpg" alt="The cover of the message book."/>
  <figcaption>The cover of the book.</figcaption>
</figure>

<p>Initially, the plan was to make a single book that contained all of our messages; however, we had spoken way too much for it to fit in one - it would have been <em>10</em> instead. After having the book printed, I found that I probably could have reduced this by <em>some</em> amount.</p>

<figure>
  <img src="{{ site.imagesUrl }}/message-book/book-pages.jpg" alt="Some pages within the message book."/>
  <figcaption>Some of the pages within the book.</figcaption>
</figure>

<h2>The code</h2>
<p>You can find the code in its repository on GitHub, <a href="https://github.com/TickleThePanda/messages-book"><code>message-book</code></a>.
<p>To create the book, I had to first compile all of the messages across the different formats into a single sorted data structure - a sorted list. The input formats ranged from HTML for Facebook Messenger to SQLite for Skype. Additional problems cropped up, like the Skype messages appeared multiple times (since I had multiple databases) and so I had to find a way to remove the duplicates - thankfully there was a unique ID for the messages hanging about!</p>
<p>
  Next, I had to convert this sorted list of messages into a PDF format so that it could be printed.
  For this I used <code>itextpdf</code>.
  This included some
  rendering<sup><a href="https://github.com/TickleThePanda/messages-book/blob/475323fd6357504129a8436bcec3a74312c7989b/src/main/java/uk/co/ticklethepanda/messagesbook/pdfwriter/CreateDocument.java#L83">[is this book too long?]</a></sup>
  issues<sup><a href="https://github.com/TickleThePanda/messages-book/blob/475323fd6357504129a8436bcec3a74312c7989b/src/main/java/uk/co/ticklethepanda/messagesbook/pdfwriter/CreateDocument.java#L108">[getting rid of extra pages]</a></sup>
  that I had to hack around.
</p>

<style>
sup { 
  font-size: small;
}
</style>
